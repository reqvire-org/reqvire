# GitHub Integration

## GitHub Workflows
```mermaid
graph LR;
  %% REQVIRE-AUTOGENERATED-DIAGRAM
  %% Graph styling
  classDef userRequirement fill:#f9d6d6,stroke:#f55f5f,stroke-width:1px;
  classDef systemRequirement fill:#fce4e4,stroke:#e68a8a,stroke-width:1px;
  classDef verification fill:#d6f9d6,stroke:#5fd75f,stroke-width:1px;
  classDef default fill:#f5f5f5,stroke:#333333,stroke-width:1px;

  53b9aea65494b30a["Automated Diagram Generation on PR Merge"];
  class 53b9aea65494b30a systemRequirement;
  click 53b9aea65494b30a "GitHub.md#automated-diagram-generation-on-pr-merge";
  98af8a1cf9c86822["generate_diagrams.yml"];
  class 98af8a1cf9c86822 default;
  click 98af8a1cf9c86822 "../../.github/workflows/generate_diagrams.yml";
  53b9aea65494b30a -->|satisfiedBy| 98af8a1cf9c86822;
  f8849dfe948d04fa["Automated Diagram Generation on PR Merge Verification"];
  class f8849dfe948d04fa verification;
  click f8849dfe948d04fa "../Verifications/DiagramsTests.md#automated-diagram-generation-on-pr-merge-verification";
  53b9aea65494b30a -.->|verifiedBy| f8849dfe948d04fa;
  98a581084d5542fa["Automate Diagram Generation"];
  class 98a581084d5542fa userRequirement;
  click 98a581084d5542fa "../UserRequirements.md#automate-diagram-generation";
  98a581084d5542fa -.->|deriveReqT| 53b9aea65494b30a;
  2d2cf67bb8070da8["Diagram Generation Test"];
  class 2d2cf67bb8070da8 verification;
  click 2d2cf67bb8070da8 "../Verifications/DiagramsTests.md#diagram-generation-test";
  98a581084d5542fa -.->|verifiedBy| 2d2cf67bb8070da8;
  de8ab093f22a5cd7["Visualize Model Relationships Verification"];
  class de8ab093f22a5cd7 verification;
  click de8ab093f22a5cd7 "../Verifications/DiagramsTests.md#visualize-model-relationships-verification";
  98a581084d5542fa -.->|verifiedBy| de8ab093f22a5cd7;
  15f2f511b2399406["Automate Pull Request Validations"];
  class 15f2f511b2399406 userRequirement;
  click 15f2f511b2399406 "../UserRequirements.md#automate-pull-request-validations";
  15f2f511b2399406 -.->|deriveReqT| 53b9aea65494b30a;
```
### Automated Diagram Generation on PR Merge

The system shall implement a GitHub workflow that automatically generates and commits updated diagrams when pull requests are merged to the main branch.

#### Details
The GitHub workflow shall:
- Be triggered only when a pull request is merged to the main branch (not on PR creation or updates)
- Check out the latest code from the main branch post-merge
- Build the Reqvire tool from source
- Run the diagram generation process using the `--generate-diagrams` flag
- Generate a traceability matrix SVG using the `--traces --svg` flags
- Check if any diagrams or matrix files have been added or modified
- Commit any updated files with a standardized commit message
- Push the updates back to the main branch

This ensures that the Mermaid diagrams in the repository are always up-to-date after changes are merged to the main branch, providing accurate visual representations of the latest model state without requiring manual intervention.

#### Relations
  * derivedFrom: [Automate Diagram Generation](../UserRequirements.md#automate-diagram-generation)
  * derivedFrom: [Automate Pull Request Validations](../UserRequirements.md#automate-pull-request-validations)
  * satisfiedBy: [generate_diagrams.yml](../../.github/workflows/generate_diagrams.yml)
---